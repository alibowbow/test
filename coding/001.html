<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì†Œê³ ê¸° ë¶€ìœ„ë³„ ì™„ë²½ ê°€ì´ë“œ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #121212;
            color: #f3f4f6;
        }

        /* SVG Cow Map Styles */
        .cow-part {
            fill: #2d3748;
            stroke: #1a202c;
            stroke-width: 3;
            stroke-linejoin: round;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .cow-part:hover {
            fill: #e53e3e;
            transform: scale(1.01);
            transform-origin: center;
        }

        .cow-part.active {
            fill: #c53030;
            stroke: #fc8181;
            stroke-width: 4;
            filter: drop-shadow(0 0 8px rgba(229, 62, 62, 0.6));
        }

        .cow-text {
            fill: #ffffff;
            font-size: 14px;
            font-weight: 700;
            pointer-events: none;
            text-anchor: middle;
            dominant-baseline: middle;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }

        .cow-head {
            fill: #1a202c;
            stroke: #1a202c;
        }

        /* Generated Meat SVG Styles */
        .meat-base {
            transition: fill 0.5s ease;
        }
        
        .marbling-line {
            fill: none;
            stroke: #fae8e0;
            stroke-linecap: round;
            opacity: 0.8;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: drawMarbling 1.5s forwards ease-out;
        }

        @keyframes drawMarbling {
            to { stroke-dashoffset: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1f2937; }
        ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #6b7280; }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8 flex flex-col items-center">

    <!-- Header -->
    <header class="text-center mb-10 w-full max-w-6xl">
        <h1 class="text-4xl md:text-5xl font-black mb-4 text-red-500 tracking-tight">ğŸ¥© ì†Œê³ ê¸° ë¶€ìœ„ë³„ ë„ê°</h1>
        <p class="text-gray-400 text-lg">ì½”ë“œë¡œ ê·¸ë ¤ì§„ ë¶€ìœ„ë³„ ë‹¤ì´ì–´ê·¸ë¨ê³¼ ë‹¨ë©´ì„ í†µí•´ ì†Œê³ ê¸°ì˜ ëª¨ë“  ê²ƒì„ ì•Œì•„ë³´ì„¸ìš”. <br class="hidden md:block">ì•„ë˜ ê·¸ë¦¼ì—ì„œ ì›í•˜ëŠ” ë¶€ìœ„ë¥¼ í´ë¦­í•´ë³´ì„¸ìš”!</p>
    </header>

    <!-- Main Content Grid -->
    <main class="w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
        
        <!-- Left: Interactive Cow Diagram -->
        <section class="bg-gray-800 rounded-3xl p-6 shadow-2xl border border-gray-700 relative overflow-hidden">
            <h2 class="text-xl font-bold mb-4 text-gray-200">ì†Œ ë¶€ìœ„ ì§€ë„ (Interactive)</h2>
            <div class="w-full aspect-video flex items-center justify-center relative">
                <!-- SVG Cow Map -->
                <svg viewBox="0 0 600 400" class="w-full h-full drop-shadow-xl" id="cow-svg">
                    <!-- Head & Tail (Non-interactive) -->
                    <polygon points="20,100 60,60 110,60 110,140 60,160 20,150" class="cow-head" />
                    <path d="M 540,110 Q 580,150 590,200" stroke="#1a202c" stroke-width="4" fill="none" />
                    
                    <!-- ëª©ì‹¬ (Chuck) -->
                    <g onclick="selectCut('chuck')">
                        <polygon points="110,60 190,70 190,170 110,150" class="cow-part" id="poly-chuck" />
                        <text x="150" y="115" class="cow-text">ëª©ì‹¬</text>
                    </g>
                    
                    <!-- ë“±ì‹¬ (Loin/Ribeye) -->
                    <g onclick="selectCut('ribeye')">
                        <polygon points="190,70 320,80 320,150 190,170" class="cow-part" id="poly-ribeye" />
                        <text x="255" y="115" class="cow-text">ë“±ì‹¬</text>
                    </g>
                    
                    <!-- ì±„ë (Striploin) -->
                    <g onclick="selectCut('striploin')">
                        <polygon points="320,80 420,80 420,150 320,150" class="cow-part" id="poly-striploin" />
                        <text x="370" y="110" class="cow-text">ì±„ë</text>
                    </g>

                    <!-- ì•ˆì‹¬ (Tenderloin - overlapping inside) -->
                    <g onclick="selectCut('tenderloin')">
                        <polygon points="330,120 400,120 390,160 320,160" class="cow-part" id="poly-tenderloin" style="stroke: #1a202c; stroke-width: 2;" />
                        <text x="360" y="145" class="cow-text" style="font-size: 12px; fill: #fbbf24;">ì•ˆì‹¬</text>
                    </g>
                    
                    <!-- ìš°ë‘”/ì„¤ë„ (Round) -->
                    <g onclick="selectCut('round')">
                        <polygon points="420,80 540,110 540,240 420,210" class="cow-part" id="poly-round" />
                        <text x="480" y="160" class="cow-text">ìš°ë‘”/ì„¤ë„</text>
                    </g>
                    
                    <!-- ê°ˆë¹„ (Ribs) -->
                    <g onclick="selectCut('ribs')">
                        <polygon points="190,170 320,150 320,220 190,220" class="cow-part" id="poly-ribs" />
                        <text x="255" y="190" class="cow-text">ê°ˆë¹„</text>
                    </g>
                    
                    <!-- ì–‘ì§€ (Brisket) -->
                    <g onclick="selectCut('brisket')">
                        <polygon points="190,220 320,220 420,210 420,250 190,260" class="cow-part" id="poly-brisket" />
                        <text x="310" y="240" class="cow-text">ì–‘ì§€</text>
                    </g>
                    
                    <!-- ì•ë‹¤ë¦¬ (Blade/Front Leg) -->
                    <g onclick="selectCut('blade')">
                        <polygon points="110,150 190,170 190,260 110,240" class="cow-part" id="poly-blade" />
                        <text x="150" y="205" class="cow-text">ì•ë‹¤ë¦¬</text>
                    </g>
                    
                    <!-- ì•ì‚¬íƒœ (Front Shank) -->
                    <g onclick="selectCut('shank')">
                        <polygon points="130,240 170,260 150,340 120,340" class="cow-part" id="poly-shank" />
                        <text x="145" y="295" class="cow-text" style="font-size: 12px;">ì‚¬íƒœ</text>
                    </g>

                    <!-- ë’·ì‚¬íƒœ (Hind Shank) -->
                    <g onclick="selectCut('shank')">
                        <polygon points="440,240 500,240 480,340 440,340" class="cow-part" id="poly-shank-hind" />
                        <text x="470" y="295" class="cow-text" style="font-size: 12px;">ì‚¬íƒœ</text>
                    </g>
                </svg>
            </div>
            <div class="mt-4 flex flex-wrap gap-2 text-xs text-gray-400 justify-center">
                <span class="flex items-center gap-1"><div class="w-3 h-3 bg-[#e53e3e] rounded-full"></div> ì„ íƒë¨</span>
                <span class="flex items-center gap-1"><div class="w-3 h-3 bg-[#2d3748] rounded-full"></div> ê¸°ë³¸</span>
            </div>
        </section>

        <!-- Right: Details Panel -->
        <section class="bg-gray-800 rounded-3xl p-6 shadow-2xl border border-gray-700 min-h-[500px] flex flex-col">
            <div id="welcome-message" class="flex-1 flex flex-col items-center justify-center text-center opacity-100 transition-opacity duration-300">
                <svg class="w-20 h-20 text-gray-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"></path>
                </svg>
                <h3 class="text-2xl font-bold text-gray-300">ë¶€ìœ„ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</h3>
                <p class="text-gray-500 mt-2">ì™¼ìª½ ì§€ë„ì—ì„œ ì•Œê³  ì‹¶ì€ ì†Œê³ ê¸° ë¶€ìœ„ë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ì™€ ê³ ê¸° ë‹¨ë©´ ê·¸ë˜í”½ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
            </div>

            <div id="details-content" class="hidden flex-1 flex-col animate-fade-in">
                <!-- Header Info -->
                <div class="flex justify-between items-end border-b border-gray-700 pb-4 mb-6">
                    <div>
                        <span id="cut-subtitle" class="text-red-400 font-semibold text-sm tracking-widest uppercase">Tenderloin</span>
                        <h2 id="cut-title" class="text-4xl font-black text-white mt-1">ì•ˆì‹¬</h2>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-gray-400 mb-1">ì¶”ì²œ ìš”ë¦¬</div>
                        <div id="cut-usage" class="text-sm font-bold bg-gray-700 px-3 py-1 rounded-full text-gray-200">ìŠ¤í…Œì´í¬, êµ¬ì´</div>
                    </div>
                </div>

                <!-- Code Generated Meat SVG Visulization -->
                <div class="w-full h-48 bg-gray-900 rounded-2xl mb-6 relative flex items-center justify-center overflow-hidden border border-gray-700 shadow-inner">
                    <div class="absolute top-3 left-3 text-xs font-bold text-gray-500 z-10 bg-gray-800/80 px-2 py-1 rounded">ì½”ë“œ ìƒì„± ë‹¨ë©´ë„</div>
                    <!-- The SVG will be injected here by JS -->
                    <div id="meat-graphic-container" class="w-full h-full p-4 flex items-center justify-center"></div>
                </div>

                <!-- Features Grid -->
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="bg-gray-700/50 p-4 rounded-xl">
                        <div class="text-xs text-gray-400 mb-1">ë¶€ë“œëŸ¬ì›€ (ì—°ë„)</div>
                        <div class="w-full bg-gray-800 rounded-full h-2.5 mt-2">
                            <div id="bar-tenderness" class="bg-red-500 h-2.5 rounded-full" style="width: 90%"></div>
                        </div>
                    </div>
                    <div class="bg-gray-700/50 p-4 rounded-xl">
                        <div class="text-xs text-gray-400 mb-1">ë§ˆë¸”ë§ (ì§€ë°©ëŸ‰)</div>
                        <div class="w-full bg-gray-800 rounded-full h-2.5 mt-2">
                            <div id="bar-marbling" class="bg-white h-2.5 rounded-full" style="width: 30%"></div>
                        </div>
                    </div>
                </div>

                <!-- Description -->
                <div>
                    <h3 class="text-lg font-bold text-gray-200 mb-2">íŠ¹ì§• ë° ì„¤ëª…</h3>
                    <p id="cut-desc" class="text-gray-400 leading-relaxed text-sm md:text-base">
                        ì†Œ í•œ ë§ˆë¦¬ì—ì„œ ê²¨ìš° 2~3%ë§Œ ë‚˜ì˜¤ëŠ” ê·€í•œ ë¶€ìœ„ì…ë‹ˆë‹¤. ê·¼ìœ¡ì˜ ì›€ì§ì„ì´ ê±°ì˜ ì—†ì–´ ê°€ì¥ ë¶€ë“œëŸ½ê³  ì§€ë°©ì´ ì ì–´ ë‹´ë°±í•œ ë§›ì´ ì¼í’ˆì…ë‹ˆë‹¤.
                    </p>
                </div>
                
                <div class="mt-auto pt-6">
                    <div class="bg-red-900/20 border border-red-900/50 rounded-lg p-3 flex gap-3 items-start">
                        <span class="text-xl">ğŸ’¡</span>
                        <p id="cut-tip" class="text-sm text-red-200 mt-0.5">ë‘íˆ¼í•˜ê²Œ ì°ì–´ ë¯¸ë””ì—„ ë ˆì–´ë¡œ êµ¬ì›Œ ë“œì‹œë©´ ê³ ìœ ì˜ ë¶€ë“œëŸ¬ì›€ì„ ê°€ì¥ ì˜ ëŠë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="mt-12 text-gray-600 text-sm text-center">
        ë³¸ í˜ì´ì§€ì˜ ëª¨ë“  ë‹¤ì´ì–´ê·¸ë¨ê³¼ ì´ë¯¸ì§€ëŠ” ì™¸ë¶€ íŒŒì¼ ì—†ì´ HTML, CSS, SVG ì½”ë“œë¡œë§Œ ë™ì  ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
    </footer>

    <script>
        // Beef Cuts Data
        const beefData = {
            tenderloin: {
                id: 'tenderloin',
                nameKo: 'ì•ˆì‹¬',
                nameEn: 'Tenderloin',
                usage: 'ìŠ¤í…Œì´í¬, ê³ ê¸‰ êµ¬ì´, ì „ê³¨',
                desc: 'ì†Œ í•œ ë§ˆë¦¬ì—ì„œ ê²¨ìš° 2~3%ë§Œ ë‚˜ì˜¤ëŠ” ìµœê³ ê¸‰ ë¶€ìœ„ì…ë‹ˆë‹¤. ê·¼ìœ¡ì˜ ì›€ì§ì„ì´ ë¼ˆ ì•ˆìª½ì—ì„œ ê±°ì˜ ì—†ì–´ ìœ¡ì§ˆì´ ê°€ì¥ ì—°í•˜ê³  ë¶€ë“œëŸ½ìŠµë‹ˆë‹¤. ì§€ë°©(ë§ˆë¸”ë§)ì€ ì ì–´ ë‹´ë°±í•œ ë§›ì´ íŠ¹ì§•ì…ë‹ˆë‹¤.',
                tip: 'ë‘íˆ¼í•˜ê²Œ ì°ì–´ ê²‰ë§Œ ë°”ì‚­í•˜ê²Œ ìµíˆëŠ” ë¯¸ë””ì—„ ë ˆì–´ë¡œ ë“œì‹œë©´ ì…ì—ì„œ ë…¹ëŠ” ì‹ê°ì„ ê²½í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                tenderness: 100,
                marbling: 20,
                color: '#b91c1c', // Deep, lean red
                polyIds: ['poly-tenderloin']
            },
            ribeye: {
                id: 'ribeye',
                nameKo: 'ë“±ì‹¬',
                nameEn: 'Loin / Ribeye',
                usage: 'ìŠ¤í…Œì´í¬, êµ¬ì´, ë¶ˆê³ ê¸°',
                desc: 'ì†Œì˜ ë“± ìª½ì— ìœ„ì¹˜í•œ ë¶€ìœ„ë¡œ, ê³ ê¸° ê²°ì´ ê³±ê³  ê·¼ìœ¡ ì†ì— ì§€ë°©(ë§ˆë¸”ë§)ì´ ì˜ˆì˜ê²Œ ë¶„í¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤. êµ½ê¸° ì‹œì‘í•˜ë©´ ì§€ë°©ì´ ë…¹ì•„ë‚´ë ¤ í’ë¯¸ì™€ ê³ ì†Œí•œ ë§›ì´ í­ë°œí•©ë‹ˆë‹¤.',
                tip: 'ì‚´ì¹˜ì‚´ê³¼ ìƒˆìš°ì‚´ì´ í¬í•¨ëœ ìœ—ë“±ì‹¬ì€ êµ¬ì´ìš©ìœ¼ë¡œ, ì•„ë«ë“±ì‹¬ì€ ìŠ¤í…Œì´í¬ìš©ìœ¼ë¡œ ì œê²©ì…ë‹ˆë‹¤.',
                tenderness: 80,
                marbling: 90,
                color: '#dc2626', // Bright fresh red
                polyIds: ['poly-ribeye']
            },
            striploin: {
                id: 'striploin',
                nameKo: 'ì±„ë',
                nameEn: 'Striploin',
                usage: 'ìŠ¤í…Œì´í¬, ë¡œìŠ¤êµ¬ì´, ì‚°ì ',
                desc: 'ë“±ì‹¬ ë’¤ìª½ì— ì´ì–´ì§€ëŠ” ë¶€ìœ„ë¡œ, ì†Œë¥¼ ëª° ë•Œ ì±„ì°ì˜ ëì´ ë‹¿ëŠ” ë¶€ìœ„ë¼ í•˜ì—¬ ì´ë¦„ ë¶™ì—¬ì¡ŒìŠµë‹ˆë‹¤. ìœ¡ì§ˆì´ ê· ì¼í•˜ê³  ì ë‹¹í•œ ë§ˆë¸”ë§ì´ ìˆì–´ ê³ ê¸° ë³¸ì—°ì˜ ì”¹ëŠ” ë§›ê³¼ ê³ ì†Œí•¨ì´ ì™„ë²½í•œ ë°¸ëŸ°ìŠ¤ë¥¼ ì´ë£¹ë‹ˆë‹¤.',
                tip: 'ì•ˆì‹¬ë³´ë‹¤ ì§„í•œ ìœ¡í–¥ê³¼ ë“±ì‹¬ë³´ë‹¤ ëœ ëŠë¼í•œ ë§›ì„ ì›í•˜ì‹¤ ë•Œ ìµœê³ ì˜ ì„ íƒì…ë‹ˆë‹¤.',
                tenderness: 75,
                marbling: 60,
                color: '#dc2626',
                polyIds: ['poly-striploin']
            },
            chuck: {
                id: 'chuck',
                nameKo: 'ëª©ì‹¬',
                nameEn: 'Chuck',
                usage: 'êµ­ê±°ë¦¬, ë¶ˆê³ ê¸°, ë‹¤ì§ìœ¡',
                desc: 'ì†Œì˜ ëª© ë¶€ë¶„ìœ¼ë¡œ ìš´ë™ëŸ‰ì´ ë§ì•„ ê·¼ìœ¡ê²°ì´ ë‹¤ì†Œ ê±°ì¹ ê³  ì§ˆê¸´ í¸ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë‹¨ë°±ì§ˆ í•¨ëŸ‰ì´ ë†’ê³  ì ¤ë¼í‹´ ì„±ë¶„ì´ í’ë¶€í•´ ìœ¡í–¥ì´ ì•„ì£¼ ì§„í•©ë‹ˆë‹¤.',
                tip: 'ì˜¤ë˜ ë“ì´ëŠ” êµ­ë¬¼ ìš”ë¦¬ì— ë„£ìœ¼ë©´ ì§„í•œ ê°ì¹ ë§›ì´ ìš°ëŸ¬ë‚˜ì˜¤ë©°, ì–‡ê²Œ ì°ì–´ ë¶ˆê³ ê¸°ë¡œ í™œìš©í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤.',
                tenderness: 40,
                marbling: 30,
                color: '#991b1b', // Darker red
                polyIds: ['poly-chuck']
            },
            brisket: {
                id: 'brisket',
                nameKo: 'ì–‘ì§€',
                nameEn: 'Brisket / Flank',
                usage: 'êµ­ê±°ë¦¬, ìœ¡ê°œì¥, ì¥ì¡°ë¦¼',
                desc: 'ê°€ìŠ´ì—ì„œ ë°° ì•„ë˜ìª½ìœ¼ë¡œ ì´ì–´ì§€ëŠ” ë¶€ìœ„ì…ë‹ˆë‹¤. ìœ¡ì§ˆì´ ì¹˜ë°€í•˜ê³  ë‹¨ë‹¨í•˜ì§€ë§Œ, ê³ ê¸° ê²°ì´ ì¼ì •í•œ ë°©í–¥ìœ¼ë¡œ ì°¢ì–´ì§€ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤. ì§€ë°©ê³¼ ê²°í•©ì¡°ì§ì´ ë§ì•„ ê°ì¹ ë§›ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.',
                tip: 'ì°¬ë¬¼ì— ë‹´ê°€ í•ë¬¼ì„ ì˜ ëº€ í›„ í‘¹ ë“ì—¬ ìœ¡ìˆ˜ë¥¼ ë‚´ê±°ë‚˜ ê²°ëŒ€ë¡œ ì°¢ì–´ ì¥ì¡°ë¦¼ì„ ë§Œë“¤ ë•Œ ìµœê³ ì˜ ë¶€ìœ„ì…ë‹ˆë‹¤.',
                tenderness: 35,
                marbling: 45,
                color: '#b91c1c',
                polyIds: ['poly-brisket']
            },
            shank: {
                id: 'shank',
                nameKo: 'ì‚¬íƒœ',
                nameEn: 'Shank',
                usage: 'ì°œ, íƒ•, ìˆ˜ìœ¡, ì¥ì¡°ë¦¼',
                desc: 'ì†Œì˜ ë‹¤ë¦¬ ë¶€ìœ„ë¡œ ê·¼ìœ¡ê³¼ í˜ì¤„, ê·¼ë§‰ì´ ë§¤ìš° ë§ì•„ êµ¬ì›Œ ë¨¹ìœ¼ë©´ ì§ˆê²¨ì„œ ë¨¹ê¸° í˜ë“­ë‹ˆë‹¤. í•˜ì§€ë§Œ ë¬¼ì— ë„£ê³  ì•½í•œ ë¶ˆì—ì„œ ì˜¤ë˜ ê°€ì—´í•˜ë©´ ì½œë¼ê²ì´ ì ¤ë¼í‹´ìœ¼ë¡œ ë³€í•´ ì•„ì£¼ ì«€ë“ì«€ë“í•´ì§‘ë‹ˆë‹¤.',
                tip: 'ì•„ë¡±ì‚¬íƒœëŠ” ì†Œ í•œ ë§ˆë¦¬ì—ì„œ ì†ŒëŸ‰ë§Œ ë‚˜ì˜¤ëŠ” íŠ¹ìˆ˜ ë¶€ìœ„ë¡œ ìˆ˜ìœ¡ìœ¼ë¡œ ë“œì‹œë©´ ìµœê³ ì˜ ì«€ë“í•¨ì„ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                tenderness: 20,
                marbling: 15,
                color: '#7f1d1d', // Very dark red
                polyIds: ['poly-shank', 'poly-shank-hind']
            },
            round: {
                id: 'round',
                nameKo: 'ìš°ë‘” / ì„¤ë„',
                nameEn: 'Top & Bottom Round',
                usage: 'ìœ¡íšŒ, ì‚°ì , ì¥ì¡°ë¦¼, ìœ¡í¬',
                desc: 'ì†Œì˜ ì—‰ë©ì´(ë³¼ê¸°)ì™€ ë’·ë‹¤ë¦¬ ë¶€ìœ„ë¡œ ì§€ë°©ì´ ê±°ì˜ ì—†ê³  ì‚´ì½”ê¸° ë©ì–´ë¦¬ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤. ë‹¨ë°±ì§ˆ ë¹„ìœ¨ì´ ë§¤ìš° ë†’ì•„ ë‹¤ì´ì–´íŠ¸ìš©ìœ¼ë¡œë„ ì¢‹ìœ¼ë©° ë‹´ë°±í•œ ë§›ì„ ëƒ…ë‹ˆë‹¤.',
                tip: 'ì§€ë°©ì´ ì—†ì–´ ë‚ ë¡œ ë¨¹ê¸° ì¢‹ì•„ ìœ¡íšŒë¡œ ê°€ì¥ ë§ì´ ì“°ì´ë©°, ì–‡ê²Œ ì €ë©° ìœ¡í¬ë‚˜ ì‚°ì ì„ ë§Œë“¤ê¸° ì¢‹ìŠµë‹ˆë‹¤.',
                tenderness: 50,
                marbling: 10,
                color: '#a41bfb', // Lean dark red mapped slightly standard
                color: '#991b1b',
                polyIds: ['poly-round']
            },
            ribs: {
                id: 'ribs',
                nameKo: 'ê°ˆë¹„',
                nameEn: 'Ribs',
                usage: 'ê°ˆë¹„ì°œ, ê°ˆë¹„íƒ•, ì–‘ë…ê°ˆë¹„',
                desc: 'ë“±ì‹¬ê³¼ ì–‘ì§€ ì‚¬ì´ì˜ ê°ˆë¹„ë¼ˆì™€ ë¼ˆ ì‚¬ì´ì˜ ê³ ê¸°ì…ë‹ˆë‹¤. ë¼ˆì—ì„œ ìš°ëŸ¬ë‚˜ëŠ” í’ë¯¸ì™€ ê·¼ë‚´ì§€ë°©, ê·¸ë¦¬ê³  ì«„ê¹ƒí•œ ê·¼ìœ¡ì´ ì–´ìš°ëŸ¬ì ¸ í•œêµ­ì¸ì´ ê°€ì¥ ì‚¬ë‘í•˜ëŠ” ì”¹ëŠ” ë§›ê³¼ ê³ ì†Œí•¨ì„ ìë‘í•©ë‹ˆë‹¤.',
                tip: 'ë¼ˆ ìª½ì— ë¶™ì€ ê·¼ë§‰ì€ ì§ˆê¸¸ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¹¼ì§‘ì„ ë‚´ì–´ ì¡°ë¦¬í•˜ë©´ ì–‘ë…ë„ ì˜ ë°°ê³  ì—°í•˜ê²Œ ë“œì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                tenderness: 60,
                marbling: 80,
                color: '#dc2626',
                polyIds: ['poly-ribs']
            },
            blade: {
                id: 'blade',
                nameKo: 'ì•ë‹¤ë¦¬',
                nameEn: 'Blade / Front Leg',
                usage: 'ë¶ˆê³ ê¸°, ìœ¡íšŒ, êµ­ê±°ë¦¬',
                desc: 'ìš´ë™ëŸ‰ì´ ë§ì€ ì•ë‹¤ë¦¬ ë¶€ìœ„ë¡œ ìœ¡ìƒ‰ì´ ì§™ê³  ì§€ë°©ì´ ì ìŠµë‹ˆë‹¤. ì¤‘ê°„ì¤‘ê°„ í˜ì¤„ì´ ìˆì–´ ì”¹ëŠ” ì‹ê°ì´ ì¢‹ìœ¼ë©° ìœ¡í–¥ì´ ë§¤ìš° í’ë¶€í•œ ê²ƒì´ íŠ¹ì§•ì…ë‹ˆë‹¤.',
                tip: 'ë¶€ì±„ì‚´(íŠ¹ìˆ˜ë¶€ìœ„)ì´ ì´ ì•ë‹¤ë¦¬ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, ì–‡ê²Œ ì°ì–´ ë¶ˆê³ ê¸°ë¡œ ë“œì‹œë©´ ê°€ì„±ë¹„ì™€ ë§›ì„ ëª¨ë‘ ì±™ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                tenderness: 45,
                marbling: 25,
                color: '#b91c1c',
                polyIds: ['poly-blade']
            }
        };

        // DOM Elements
        const welcomeMsg = document.getElementById('welcome-message');
        const detailsContent = document.getElementById('details-content');
        const graphicContainer = document.getElementById('meat-graphic-container');

        // SVG Code Generator for Meat Visualization
        // ì½”ë“œë¡œ ë™ì  ë§ˆë¸”ë§ ê³ ê¸°ë¥¼ ê·¸ë ¤ë‚´ëŠ” í•µì‹¬ ì•Œê³ ë¦¬ì¦˜
        function generateMeatGraphic(color, marblingLevel) {
            // Base organic meat shape using bezier curves
            const baseShape = `M 40 100 C 30 50, 80 20, 160 30 C 230 40, 270 90, 250 150 C 230 200, 150 220, 80 190 C 20 160, 50 140, 40 100 Z`;
            
            // Marbling paths (Squiggly lines to simulate fat)
            const marblingPaths = [
                `M 60 80 Q 100 120 180 60 T 230 110`,
                `M 50 140 Q 120 180 200 120 T 240 160`,
                `M 80 50 Q 120 90 150 40 T 210 70`,
                `M 70 110 Q 150 140 220 90`,
                `M 90 170 Q 160 200 230 140`,
                `M 110 60 Q 140 100 190 50`,
                `M 130 150 Q 170 120 210 170`,
                `M 60 110 Q 90 80 130 130 T 190 100`,
                `M 100 40 Q 150 80 200 30 T 250 80`,
                `M 50 160 Q 100 130 150 180 T 220 130`
            ];

            // Determine how many fat lines to draw based on marbling (0 to 100)
            const linesToDraw = Math.floor((marblingLevel / 100) * marblingPaths.length);
            
            let linesSVG = '';
            for(let i=0; i<linesToDraw; i++) {
                // Add slight randomness to stroke width based on index for natural look
                const width = 2 + (i % 3); 
                linesSVG += `<path class="marbling-line" d="${marblingPaths[i]}" stroke-width="${width}" />`;
            }

            // Return full SVG string
            return `
                <svg viewBox="0 0 300 240" class="w-full h-full drop-shadow-2xl">
                    <defs>
                        <!-- Inner shadow for realistic meat volume -->
                        <filter id="inner-shadow">
                            <feOffset dx="0" dy="0"/>
                            <feGaussianBlur stdDeviation="15" result="offset-blur"/>
                            <feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse"/>
                            <feFlood flood-color="black" flood-opacity="0.4" result="color"/>
                            <feComposite operator="in" in="color" in2="inverse" result="shadow"/>
                            <feComposite operator="over" in="shadow" in2="SourceGraphic"/>
                        </filter>
                    </defs>
                    <g transform="translate(5, 5)">
                        <!-- Outer darker rim (meat crust/oxidation) -->
                        <path d="${baseShape}" fill="#450a0a" transform="scale(1.02) translate(-2, -2)" opacity="0.5"/>
                        <!-- Main Meat Body -->
                        <path class="meat-base" d="${baseShape}" fill="${color}" filter="url(#inner-shadow)" />
                        <!-- Generated Marbling -->
                        ${linesSVG}
                    </g>
                </svg>
            `;
        }

        // Interaction Logic
        function selectCut(cutId) {
            const data = beefData[cutId];
            if(!data) return;

            // 1. Reset all polygon styles
            document.querySelectorAll('.cow-part').forEach(poly => {
                poly.classList.remove('active');
            });

            // 2. Highlight selected polygon(s)
            data.polyIds.forEach(polyId => {
                document.getElementById(polyId).classList.add('active');
            });

            // 3. Update Text Content
            document.getElementById('cut-title').innerText = data.nameKo;
            document.getElementById('cut-subtitle').innerText = data.nameEn;
            document.getElementById('cut-usage').innerText = data.usage;
            document.getElementById('cut-desc').innerText = data.desc;
            document.getElementById('cut-tip').innerText = data.tip;

            // 4. Update Progress Bars
            document.getElementById('bar-tenderness').style.width = `${data.tenderness}%`;
            document.getElementById('bar-marbling').style.width = `${data.marbling}%`;

            // 5. Generate and inject the Code-Generated Image (SVG)
            graphicContainer.innerHTML = generateMeatGraphic(data.color, data.marbling);

            // 6. Toggle UI visibility
            welcomeMsg.classList.add('hidden');
            
            // Re-trigger animation
            detailsContent.classList.remove('hidden');
            detailsContent.classList.remove('animate-fade-in');
            void detailsContent.offsetWidth; // trigger reflow
            detailsContent.classList.add('animate-fade-in');
        }

    </script>
</body>
</html>
